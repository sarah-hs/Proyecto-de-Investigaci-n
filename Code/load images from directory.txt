import os
from skimage import io, color

def load_images_from_directory(path, LAB=True):
	x = []; y = []; files = [];
	for folder in os.listdir(path):
		if(os.path.isfile(folder)):
			print(os.path.join(path,folder), "was removed")
			continue
		for file in os.listdir(os.path.join(path,folder)):
			if(not file.lower().endswith((".png", ".jpg", ".jpeg"))):
				print(os.path.join(path,folder,file), "was removed")
				continue
			img = io.imread(os.path.join(path,folder,file), pilmode="RGB")
			if LAB:
				img = color.rgb2lab(img)
			x.append(img)
			y.append(folder)
			files.append(file)
		print(folder, "images were loaded")
	return (x, y, files)